---
- name: ensure rvm gnupg key is present
  shell: gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3

- name: ensure rvm is the latest stable
  shell: curl -sSL https://get.rvm.io | bash -s stable

- name: ensure ruby is the latest of 2.1.x
  shell: export PATH=$HOME/.rvm/bin:$PATH && source $HOME/.rvm/scripts/rvm && rvm install 2.1 && rvm default 2.1@global

- name: ensure ruby gems are the latest
  gem: name={{ item }} state=latest
  with_items:
    - compass
    - moretext
    - terminal-notifier
    - apiary-client
